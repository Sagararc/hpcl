<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <title>Dastyle - Admin & Dashboard Template</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta content="Premium Multipurpose Admin & Dashboard Template" name="description" />
  <meta content="" name="author" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />

  <!-- App favicon -->
  <link rel="shortcut icon" href="/static/images/favicon.ico">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <!-- jvectormap -->
  <link href="/static/plugins/jvectormap/jquery-jvectormap-2.0.2.css" rel="stylesheet">


  <!-- App css -->
  <link href="/static/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
  <link href="/static/css/jquery-ui.min.css" rel="stylesheet">
  <link href="/static/css/icons.min.css" rel="stylesheet" type="text/css" />
  <link href="/static/css/metisMenu.min.css" rel="stylesheet" type="text/css" />
  <link href="/static/plugins/daterangepicker/daterangepicker.css" rel="stylesheet" type="text/css" />
  <link href="/static/css/app.min.css" rel="stylesheet" type="text/css" />
  <link rel="stylesheet" href="/static/css/form.css">
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">



</head>

<body class="dark-sidenav">
  <!-- Left Sidenav -->
  <div class="left-sidenav">
    <!-- LOGO -->
    <div class="brand">
      <a href="/dash" class="logo">
        <span>
          <img src="">
        </span>
        



      </a>

    </div>
    
    
    <!--end logo-->
    <div class="menu-content h-100" data-simplebar>
      <ul class="metismenu left-sidenav-menu" style="font-size: 20px; width:600px;">
        <i></i>
        <li>
          <a href="/dash"> <i class="fas fa-chart-line"
              class="align-self-center menu-icon"></i><span>Dashboard</span></a>

        </li>
        
        <li>
          <a href="/user"> <i class="fas fa-user-plus" class="align-self-center menu-icon"></i><span>User
              Management</span></a>

        </li>
        
        <li>
          <a href="/city"> <i class="fas fa-gas-pump" class="align-self-center menu-icon"></i><span>City
              Management</span></a>

        </li>

        
        <li>
          <a href="/attendence"> <i class="fas fa-id-card"
              class="align-self-center menu-icon"></i><span>Attendence</span></a>

        </li>


         
        <li>
          <a href="/area"> <i class="fas fa-sun" class="align-self-center menu-icon"></i><span>Area
              Management</span></a>

        </li>
        
        
        <li>
          <a href="/outlet"> <i class="fas fa-sun" class="align-self-center menu-icon"></i><span>Outlet
              Management</span></a>

        </li>
        
        <li>
          <a href="/outActivity"> <i class='fas fa-walking' class="align-self-center menu-icon"></i><span>Outlet
              Activity</span></a>

        </li>
        
        <li>
          <a href="/fields"> <i class="fas fa-window-restore" class="align-self-center menu-icon"></i><span>Form
              Fields</span></a>

        </li>

        
        <li>
          <a href="/raw"> <i class="fas fa-sticky-note" class="align-self-center menu-icon"></i><span>Raw
              Data</span></a>

        </li>


      </ul>


    </div>
  </div>
  <!-- end left-sidenav-->


  <div class="page-wrapper">
    <!-- Top Bar Start -->
    <div class="topbar  ">
      <!-- Navbar -->
      <nav class="navbar-custom " style="background-color : #053387">
        <ul class="list-unstyled topbar-nav float-right mb-0">



          <li class="dropdown">
            <a class="nav-link dropdown-toggle waves-effect waves-light nav-user" data-toggle="dropdown" href="#"
              role="button" aria-haspopup="false" aria-expanded="false">
              <div class="avatar-box thumb-sm align-self-center mr-2">
                <span class="avatar-title bg-purple rounded-circle"><i class="fas fa-user"></i></span>

              </div>


            </a>
            <div class="dropdown-menu dropdown-menu-right">

              <div class="dropdown-divider mb-0"></div>
              <a class="dropdown-item" href="{% url 'logout' %}"><i data-feather="power"
                  class="align-self-center icon-xs icon-dual mr-1"></i> Logout</a>
            </div>
          </li>
        </ul><!--end topbar-nav-->

        <ul class="list-unstyled topbar-nav mb-0">


        </ul>
      </nav>
      <!-- end navbar-->

    </div>
    <div class="row">
      <div class="col-md-12">
        {% block content %}
        {% endblock %}
      </div>
    </div>

  

    <script src="/static/js/jquery.min.js"></script>
    <script src="/static/js/bootstrap.bundle.min.js"></script>
    <script src="/static/js/metismenu.min.js"></script>
    <script src="/static/js/waves.js"></script>
    <script src="/static/js/feather.min.js"></script>
    <script src="/static/js/simplebar.min.js"></script>
    <script src="/static/js/jquery-ui.min.js"></script>
    <script src="/static/js/moment.js"></script>
    <script src="/static/plugins/daterangepicker/daterangepicker.js"></script>

    <script src="/static/plugins/apex-charts/apexcharts.min.js"></script>
    <script src="/static/plugins/jvectormap/jquery-jvectormap-2.0.2.min.js"></script>
    <script src="/static/plugins/jvectormap/jquery-jvectormap-us-aea-en.js"></script>
    <script src="/static/pages/jquery.analytics_dashboard.init.js"></script>

    <!-- App js -->
    <script src="/static/js/app.js"></script>
    <script>
      $(document).ready(function () {
        // Function to show/hide the "Add more" button and options based on the selected field type
        function toggleOptionsVisibility() {
          var fieldType = $('#form_type').val();
          var fileDiv = $('#no_of_files_div');
          var optionsDiv = $('#option_div_form');

          // Hide the "Add more" button and options initially
          $('#add_more_option').hide();
          $('#form_type_options').hide();
          fileDiv.hide();

          // Hide the optionsDiv for all field types except Dropdown, Checkbox, and Radio
          optionsDiv.hide();

          // Show the "Add more" button and options for selected field types
          if (fieldType === 'Dropdown' || fieldType === 'Checkbox' || fieldType === 'Radio') {
            $('#add_more_option').show();
            $('#form_type_options').show();
            optionsDiv.show(); // Show optionsDiv for these field types
          } else if (fieldType === 'File') {
            fileDiv.show();
            optionsDiv.show(); // Show optionsDiv for File field type
          }
        }
        // Event listener for the field type dropdown change
        $('#form_type').change(function () {
          toggleOptionsVisibility();
        });

        // Event listener for the "Add more" button
        $('#add_more_option').click(function (e) {
          e.preventDefault();

          var fieldType = $('#form_type').val();
          var maxOptions = 5; // Maximum number of options to add

          if (fieldType === 'Dropdown' || fieldType === 'Checkbox' || fieldType === 'Radio') {
            var optionsCount = $('#form_type_options input.form-control').length;
            if (optionsCount < maxOptions) {
              var newOption = `
                      <div class="row mt-2">
                        <div class="col-sm-9">
                          <input type="text" class="form-control" name="options[]" value="" placeholder="Option">
                        </div>
                        <div class="col-sm-3 text-right">
                          <a href="javascript:void(0)" class="btn btn-flat btn-default remove_option"><i class="fa fa-minus"></i> Remove</a>
                        </div>
                      </div>
                    `;
              $('#form_type_options').append(newOption);
            } else {
              alert('You can only add up to ' + maxOptions + ' options.');
            }
          }
        });

        // Event listener to remove an option
        $(document).on('click', '.remove_option', function (e) {
          e.preventDefault();
          $(this).closest('.row').remove();
        });

        // Initially toggle visibility based on the selected field type
        toggleOptionsVisibility();
      });
    </script>
    <script>$('.datepicker').datepicker(); </script>

    <script>
      $(document).ready(function() {
          $(".view-details-button").click(function() {
              var rowElement = $(this).closest(".outer-row");
              var rowIndex = rowElement.data("row-index");
              
              // Fetch the corresponding data for the selected row using AJAX
              $.ajax({
                  type: "GET",
                  url: "/get_attendance_data/",  // Update with your data source URL
                  data: {
                      row_index: rowIndex
                  },
                  success: function(response) {
                      $("#modal-content-container").html(response);
                  }
              });
          });
      });
      </script>
      
      
  
</body>

</html>